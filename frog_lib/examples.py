#!/usr/bin/env python3
"""
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                 BioFrog v2.0 - –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢                              ‚ïë
‚ïë        –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–∏ –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞              ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã BioFrog v2.0
"""

from .simulation import BioFlyCatchingSimulation
from .bio_frog_agent import BioFrogAgent
import numpy as np


def example_1_basic_simulation():
    """
    –ü—Ä–∏–º–µ—Ä 1: –ë–∞–∑–æ–≤–∞—è —Å–∏–º—É–ª—è—Ü–∏—è —Å —Ä–µ–∂–∏–º–æ–º –¥–µ—Ç—Å—Ç–≤–∞
    
    –í —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ –ª—è–≥—É—à–∫–∞:
    - –ù–∞—á–∏–Ω–∞–µ—Ç —Å –ø–æ–≤—ã—à–µ–Ω–Ω—ã–º –¥–æ—Ñ–∞–º–∏–Ω–æ–º (0.85 –≤–º–µ—Å—Ç–æ 0.5)
    - –ò–º–µ–µ—Ç –±–æ–ª—å—à–∏–π —Ä–∞–¥–∏—É—Å –ø–æ–∏–º–∫–∏ –º—É—Ö (100 –≤–º–µ—Å—Ç–æ 20)
    - 60% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —É—Å–ø–µ—Ö–∞ –≤–º–µ—Å—Ç–æ 100%
    - –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –µ–π –ø–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–≤—ã–µ —É—Å–ø–µ—Ö–∏ –∏ –Ω–∞—á–∞—Ç—å –æ–±—É—á–∞—Ç—å—Å—è
    """
    print("\n" + "="*70)
    print("–ü–†–ò–ú–ï–† 1: –ë–∞–∑–æ–≤–∞—è —Å–∏–º—É–ª—è—Ü–∏—è —Å —Ä–µ–∂–∏–º–æ–º –¥–µ—Ç—Å—Ç–≤–∞")
    print("="*70)
    print("""
    –õ—è–≥—É—à–∫–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç –≤ —Ä–µ–∂–∏–º–µ "–¥–µ—Ç—Å—Ç–≤–∞":
    ‚úì –ü–æ–≤—ã—à–µ–Ω–Ω—ã–π –¥–æ—Ñ–∞–º–∏–Ω ‚Üí –±–æ–ª—å—à–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
    ‚úì –ë–æ–ª—å—à–∏–π —Ä–∞–¥–∏—É—Å –ø–æ–∏–º–∫–∏ ‚Üí –ª–µ–≥—á–µ –ª–æ–≤–∏—Ç—å –º—É—Ö
    ‚úì –í—ã—Å–æ–∫–∞—è –Ω–µ–π—Ä–æ–º–æ–¥—É–ª—è—Ü–∏—è ‚Üí –±—ã—Å—Ç—Ä–æ–µ –æ–±—É—á–µ–Ω–∏–µ
    """)
    
    sim = BioFlyCatchingSimulation(
        width=800,
        height=600,
        bio_mode=True,
        juvenile_mode=True,  # ‚Üê –†–ï–ñ–ò–ú –î–ï–¢–°–¢–í–ê
        num_flies=15,
        headless=False  # –ü–æ–∫–∞–∑–∞—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é
    )
    
    print("–°–∏–º—É–ª—è—Ü–∏—è –∑–∞–ø—É—â–µ–Ω–∞ –Ω–∞ 5000 —à–∞–≥–æ–≤...")
    print("(–ù–∞–∂–º–∏—Ç–µ Q –≤ –æ–∫–Ω–µ —á—Ç–æ–±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å, –∏–ª–∏ –∂–¥–∏—Ç–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è)")
    
    sim.run_simulation(max_steps=5000)
    
    stats = sim.get_statistics()
    print(f"\nüìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:")
    print(f"   –ú—É—Ö –ø–æ–π–º–∞–Ω–æ: {stats['caught_flies']}")
    print(f"   –£—Å–ø–µ—à–Ω–æ—Å—Ç—å: {stats['success_rate']*100:.1f}%")
    print(f"   –§–∏–Ω–∞–ª—å–Ω–∞—è —ç–Ω–µ—Ä–≥–∏—è: {stats['final_energy']:.2f}")
    print(f"   –†–µ–∂–∏–º: {'üë∂ –î–ï–¢–°–¢–í–û' if stats['is_juvenile'] else 'ü¶ó –í–ó–†–û–°–õ–ï–ù–ò–ï'}")
    
    sim.plot_results()
    sim.close()


def example_2_adult_mode():
    """
    –ü—Ä–∏–º–µ—Ä 2: –°–∏–º—É–ª—è—Ü–∏—è –≤–∑—Ä–æ—Å–ª–æ–π –ª—è–≥—É—à–∫–∏ (–±–µ–∑ –¥–µ—Ç—Å—Ç–≤–∞)
    
    –í–∑—Ä–æ—Å–ª–∞—è –ª—è–≥—É—à–∫–∞:
    - –ò–º–µ–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –¥–æ—Ñ–∞–º–∏–Ω–∞ (0.5)
    - –ú–∞–ª–µ–Ω—å–∫–∏–π —Ä–∞–¥–∏—É—Å –ø–æ–∏–º–∫–∏ (20 –ø–∏–∫—Å–µ–ª–µ–π)
    - 100% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —É—Å–ø–µ—Ö–∞
    - –ú–µ–Ω—å—à–µ –∏—Å—Å–ª–µ–¥—É–µ—Ç, –±–æ–ª—å—à–µ –ª–æ–≤–∏—Ç
    """
    print("\n" + "="*70)
    print("–ü–†–ò–ú–ï–† 2: –°–∏–º—É–ª—è—Ü–∏—è –≤–∑—Ä–æ—Å–ª–æ–π –ª—è–≥—É—à–∫–∏ (–±–µ–∑ —Ä–µ–∂–∏–º–∞ –¥–µ—Ç—Å—Ç–≤–∞)")
    print("="*70)
    print("""
    –õ—è–≥—É—à–∫–∞ —Å—Ä–∞–∑—É –≤ —Ä–µ–∂–∏–º–µ "–≤–∑—Ä–æ—Å–ª–µ–Ω–∏—è":
    ‚úì –ù–æ—Ä–º–∞–ª—å–Ω—ã–π –¥–æ—Ñ–∞–º–∏–Ω ‚Üí –º–µ–Ω—å—à–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
    ‚úì –ú–µ–Ω—å—à–∏–π —Ä–∞–¥–∏—É—Å –ø–æ–∏–º–∫–∏ ‚Üí —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ—á–Ω–æ—Å—Ç—å
    ‚úì 100% —É—Å–ø–µ—Ö ‚Üí –µ—Å–ª–∏ –ø–æ–ø–∞–¥—ë—Ç, –≤—Å–µ–≥–¥–∞ –ø–æ–π–º–∞–µ—Ç
    """)
    
    sim = BioFlyCatchingSimulation(
        width=800,
        height=600,
        bio_mode=True,
        juvenile_mode=False,  # ‚Üê –ë–ï–ó –†–ï–ñ–ò–ú–ê –î–ï–¢–°–¢–í–ê
        num_flies=15,
        headless=False
    )
    
    print("–°–∏–º—É–ª—è—Ü–∏—è –∑–∞–ø—É—â–µ–Ω–∞ –Ω–∞ 3000 —à–∞–≥–æ–≤...")
    
    sim.run_simulation(max_steps=3000)
    
    stats = sim.get_statistics()
    print(f"\nüìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:")
    print(f"   –ú—É—Ö –ø–æ–π–º–∞–Ω–æ: {stats['caught_flies']}")
    print(f"   –£—Å–ø–µ—à–Ω–æ—Å—Ç—å: {stats['success_rate']*100:.1f}%")
    
    sim.close()


def example_3_headless():
    """
    –ü—Ä–∏–º–µ—Ä 3: –ë—ã—Å—Ç—Ä–∞—è —Å–∏–º—É–ª—è—Ü–∏—è –±–µ–∑ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ (headless mode)
    
    –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è:
    - –ë—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    - –°–±–æ—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    - –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
    """
    print("\n" + "="*70)
    print("–ü–†–ò–ú–ï–† 3: –ë—ã—Å—Ç—Ä–∞—è —Å–∏–º—É–ª—è—Ü–∏—è (–±–µ–∑ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏)")
    print("="*70)
    
    sim = BioFlyCatchingSimulation(
        width=800,
        height=600,
        bio_mode=True,
        juvenile_mode=True,
        num_flies=10,
        headless=True  # ‚Üê –ë–ï–ó –í–ò–ó–£–ê–õ–ò–ó–ê–¶–ò–ò
    )
    
    print("–ó–∞–ø—É—Å–∫ –Ω–∞ 10000 —à–∞–≥–æ–≤ (–±–µ–∑ –≥—Ä–∞—Ñ–∏–∫–∏)...")
    import time
    start = time.time()
    
    sim.run_simulation(max_steps=10000)
    
    elapsed = time.time() - start
    stats = sim.get_statistics()
    
    print(f"\n‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:")
    print(f"   –í—Ä–µ–º—è: {elapsed:.2f} —Å–µ–∫")
    print(f"   –®–∞–≥–æ–≤ –≤ —Å–µ–∫: {10000/elapsed:.0f}")
    print(f"   –ú—É—Ö –ø–æ–π–º–∞–Ω–æ: {stats['caught_flies']}")
    print(f"   –£—Å–ø–µ—à–Ω–æ—Å—Ç—å: {stats['success_rate']*100:.1f}%")
    
    sim.close()


def example_4_compare_modes():
    """
    –ü—Ä–∏–º–µ—Ä 4: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤ –¥–µ—Ç—Å—Ç–≤–∞ –∏ –≤–∑—Ä–æ—Å–ª–µ–Ω–∏—è
    """
    print("\n" + "="*70)
    print("–ü–†–ò–ú–ï–† 4: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤ –¥–µ—Ç—Å—Ç–≤–∞ –∏ –≤–∑—Ä–æ—Å–ª–µ–Ω–∏—è")
    print("="*70)
    
    results = {}
    
    for mode_name, juvenile in [("üë∂ –î–ï–¢–°–¢–í–û", True), ("ü¶ó –í–ó–†–û–°–õ–ï–ù–ò–ï", False)]:
        print(f"\n–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ {mode_name}...")
        
        sim = BioFlyCatchingSimulation(
            width=800,
            height=600,
            bio_mode=True,
            juvenile_mode=juvenile,
            num_flies=15,
            headless=True
        )
        
        sim.run_simulation(max_steps=5000)
        stats = sim.get_statistics()
        results[mode_name] = stats
        
        print(f"  –ú—É—Ö –ø–æ–π–º–∞–Ω–æ: {stats['caught_flies']}")
        print(f"  –£—Å–ø–µ—à–Ω–æ—Å—Ç—å: {stats['success_rate']*100:.1f}%")
        
        sim.close()
    
    print("\n" + "="*70)
    print("–°–†–ê–í–ù–ï–ù–ò–ï –†–ï–ó–£–õ–¨–¢–ê–¢–û–í:")
    print("="*70)
    print(f"{'–ú–µ—Ç—Ä–∏–∫–∞':<25} {'–î–µ—Ç—Å—Ç–≤–æ':<20} {'–í–∑—Ä–æ—Å–ª–µ–Ω–∏–µ':<20}")
    print("-" * 65)
    print(f"{'–ú—É—Ö –ø–æ–π–º–∞–Ω–æ':<25} {results['üë∂ –î–ï–¢–°–¢–í–û']['caught_flies']:<20} {results['ü¶ó –í–ó–†–û–°–õ–ï–ù–ò–ï']['caught_flies']:<20}")
    print(f"{'–£—Å–ø–µ—à–Ω–æ—Å—Ç—å (%)':<25} {results['üë∂ –î–ï–¢–°–¢–í–û']['success_rate']*100:<20.1f} {results['ü¶ó –í–ó–†–û–°–õ–ï–ù–ò–ï']['success_rate']*100:<20.1f}")


if __name__ == "__main__":
    print("""
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                  üê∏ BioFrog v2.0 - –ü—Ä–∏–º–µ—Ä—ã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è üß†               ‚ïë
‚ïë           –ë–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–∏ –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–∞—è –Ω–µ–π—Ä–æ—Å–µ—Ç—å –¥–ª—è –æ—Ö–æ—Ç—ã –ª—è–≥—É—à–∫–∏             ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–º–µ—Ä –¥–ª—è –∑–∞–ø—É—Å–∫–∞:

1. –ë–∞–∑–æ–≤–∞—è —Å–∏–º—É–ª—è—Ü–∏—è —Å —Ä–µ–∂–∏–º–æ–º –¥–µ—Ç—Å—Ç–≤–∞ (5000 —à–∞–≥–æ–≤, —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π)
2. –í–∑—Ä–æ—Å–ª–∞—è –ª—è–≥—É—à–∫–∞ –±–µ–∑ —Ä–µ–∂–∏–º–∞ –¥–µ—Ç—Å—Ç–≤–∞ (3000 —à–∞–≥–æ–≤, —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π)
3. –ë—ã—Å—Ç—Ä–∞—è —Å–∏–º—É–ª—è—Ü–∏—è –±–µ–∑ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ (10000 —à–∞–≥–æ–≤)
4. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤ –¥–µ—Ç—Å—Ç–≤–∞ –∏ –≤–∑—Ä–æ—Å–ª–µ–Ω–∏—è (5000 —à–∞–≥–æ–≤ –∫–∞–∂–¥—ã–π)
0. –í—ã—Ö–æ–¥

    """)
    
    choice = input("–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –ø—Ä–∏–º–µ—Ä–∞ (0-4): ").strip()
    
    if choice == "1":
        example_1_basic_simulation()
    elif choice == "2":
        example_2_adult_mode()
    elif choice == "3":
        example_3_headless()
    elif choice == "4":
        example_4_compare_modes()
    elif choice == "0":
        print("–î–æ —Å–≤–∏–¥–∞–Ω–∏—è! üê∏")
    else:
        print("–ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä")
    
    print("\n‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã!")
